import * as THREE from '../../../../extern/build/three.module.js';

export class Milk extends THREE.Group {
  constructor(capColor) {
    super();

    var milk = new THREE.Group();
    var bottleGeometry = new THREE.BufferGeometry();
    var bottleVertices = new Float32Array([
      // Bottom Layer
      -1.0,  0.0,  0.0,
       0.0,  0.0,  0.0,
       0.0,  1.0,  0.0,

       0.0,  0.0,  0.0,
       1.0,  0.0, -1.0,
       1.0,  1.0, -1.0,

       1.0,  0.0, -1.0,
       1.0,  0.0, -2.0,
       1.0,  1.0, -2.0,

       1.0,  0.0, -2.0,
       0.0,  0.0, -3.0,
       0.0,  1.0, -3.0,

       0.0,  0.0, -3.0,
      -1.0,  0.0, -3.0,
      -1.0,  1.0, -3.0,

      -1.0,  0.0, -3.0,
      -2.0,  0.0, -2.0,
      -2.0,  1.0, -2.0,

      -2.0,  0.0, -2.0,
      -2.0,  0.0, -1.0,
      -2.0,  1.0, -1.0,

      -2.0,  0.0, -1.0,
      -1.0,  0.0,  0.0,
      -1.0,  1.0,  0.0,

      -1.0,  0.0,  0.0,
       0.0,  1.0,  0.0,
      -1.0,  1.0,  0.0,

       0.0,  0.0,  0.0,
       1.0,  1.0, -1.0,
       0.0,  1.0,  0.0,

       1.0,  0.0, -1.0,
       1.0,  1.0, -2.0,
       1.0,  1.0, -1.0,

       1.0,  0.0, -2.0,
       0.0,  1.0, -3.0,
       1.0,  1.0, -2.0,

       0.0,  0.0, -3.0,
      -1.0,  1.0, -3.0,
       0.0,  1.0, -3.0,

      -1.0,  0.0, -3.0,
      -2.0,  1.0, -2.0,
      -1.0,  1.0, -3.0,

      -2.0,  0.0, -2.0,
      -2.0,  1.0, -1.0,
      -2.0,  1.0, -2.0,

      -2.0,  0.0, -1.0,
      -1.0,  1.0,  0.0,
      -2.0,  1.0, -1.0,

      // Middle Layer
      -1.0,  1.0,  0.0,
       0.0,  1.0,  0.0,
       0.0,  2.0,  0.0,

       0.0,  1.0,  0.0,
       1.0,  1.0, -1.0,
       1.0,  2.0, -1.0,

       1.0,  1.0, -1.0,
       1.0,  1.0, -2.0,
       1.0,  2.0, -2.0,

       1.0,  1.0, -2.0,
       0.0,  1.0, -3.0,
       0.0,  2.0, -3.0,

       0.0,  1.0, -3.0,
      -1.0,  1.0, -3.0,
      -1.0,  2.0, -3.0,

      -1.0,  1.0, -3.0,
      -2.0,  1.0, -2.0,
      -2.0,  2.0, -2.0,

      -2.0,  1.0, -2.0,
      -2.0,  1.0, -1.0,
      -2.0,  2.0, -1.0,

      -2.0,  1.0, -1.0,
      -1.0,  1.0,  0.0,
      -1.0,  2.0,  0.0,

      -1.0,  1.0,  0.0,
       0.0,  2.0,  0.0,
      -1.0,  2.0,  0.0,

       0.0,  1.0,  0.0,
       1.0,  2.0, -1.0,
       0.0,  2.0,  0.0,

       1.0,  1.0, -1.0,
       1.0,  2.0, -2.0,
       1.0,  2.0, -1.0,

       1.0,  1.0, -2.0,
       0.0,  2.0, -3.0,
       1.0,  2.0, -2.0,

       0.0,  1.0, -3.0,
      -1.0,  2.0, -3.0,
       0.0,  2.0, -3.0,

      -1.0,  1.0, -3.0,
      -2.0,  2.0, -2.0,
      -1.0,  2.0, -3.0,

      -2.0,  1.0, -2.0,
      -2.0,  2.0, -1.0,
      -2.0,  2.0, -2.0,

      -2.0,  1.0, -1.0,
      -1.0,  2.0,  0.0,
      -2.0,  2.0, -1.0,

      // Top Layer
      -1.0,  2.0,  0.0,
       0.0,  2.0,  0.0,
       0.0,  3.0,  0.0,

       0.0,  2.0,  0.0,
       1.0,  2.0, -1.0,
       1.0,  3.0, -1.0,

       1.0,  2.0, -1.0,
       1.0,  2.0, -2.0,
       1.0,  3.0, -2.0,

       1.0,  2.0, -2.0,
       0.0,  2.0, -3.0,
       0.0,  3.0, -3.0,

       0.0,  2.0, -3.0,
      -1.0,  2.0, -3.0,
      -1.0,  3.0, -3.0,

      -1.0,  2.0, -3.0,
      -2.0,  2.0, -2.0,
      -2.0,  3.0, -2.0,

      -2.0,  2.0, -2.0,
      -2.0,  2.0, -1.0,
      -2.0,  3.0, -1.0,

      -2.0,  2.0, -1.0,
      -1.0,  2.0,  0.0,
      -1.0,  3.0,  0.0,

      -1.0,  2.0,  0.0,
       0.0,  3.0,  0.0,
      -1.0,  3.0,  0.0,

       0.0,  2.0,  0.0,
       1.0,  3.0, -1.0,
       0.0,  3.0,  0.0,

       1.0,  2.0, -1.0,
       1.0,  3.0, -2.0,
       1.0,  3.0, -1.0,

       1.0,  2.0, -2.0,
       0.0,  3.0, -3.0,
       1.0,  3.0, -2.0,

       0.0,  2.0, -3.0,
      -1.0,  3.0, -3.0,
       0.0,  3.0, -3.0,

      -1.0,  2.0, -3.0,
      -2.0,  3.0, -2.0,
      -1.0,  3.0, -3.0,

      -2.0,  2.0, -2.0,
      -2.0,  3.0, -1.0,
      -2.0,  3.0, -2.0,

      -2.0,  2.0, -1.0,
      -1.0,  3.0,  0.0,
      -2.0,  3.0, -1.0,

      // Bottom of shape
       0.0,  0.0,  0.0,
       1.0,  0.0, -2.0,
       1.0,  0.0, -1.0,

       0.0,  0.0,  0.0,
       0.0,  0.0, -3.0,
       1.0,  0.0, -2.0,

       0.0,  0.0,  0.0,
      -1.0,  0.0, -3.0,
       0.0,  0.0, -3.0,

       0.0,  0.0,  0.0,
      -2.0,  0.0, -2.0,
      -1.0,  0.0, -3.0,

       0.0,  0.0,  0.0,
      -2.0,  0.0, -1.0,
      -2.0,  0.0, -2.0,

       0.0,  0.0,  0.0,
      -1.0,  0.0,  0.0,
      -2.0,  0.0, -1.0,

      // Middle Cap
      -1.0,  3.0,  0.0,
       0.0,  3.0,  0.0,
      -0.25, 3.5, -0.75,

       0.0,  3.0,  0.0,
       1.0,  3.0, -1.0,
       0.25, 3.5, -1.25,

       1.0,  3.0, -1.0,
       1.0,  3.0, -2.0,
       0.25, 3.5, -1.75,

       1.0,  3.0, -2.0,
       0.0,  3.0, -3.0,
      -0.25, 3.5, -2.25,

       0.0,  3.0, -3.0,
      -1.0,  3.0, -3.0,
      -0.75, 3.5, -2.25,

      -1.0,  3.0, -3.0,
      -2.0,  3.0, -2.0,
      -1.25, 3.5, -1.75,

      -2.0,  3.0, -2.0,
      -2.0,  3.0, -1.0,
      -1.25, 3.5, -1.25,

      -2.0,  3.0, -1.0,
      -1.0,  3.0,  0.0,
      -0.75, 3.5, -0.75,

      -0.25, 3.5, -0.75,
      -0.75, 3.5, -0.75,
      -1.0,  3.0,  0.0,

       0.25, 3.5, -1.25,
      -0.25, 3.5, -0.75,
       0.0,  3.0,  0.0,

       0.25, 3.5, -1.75,
       0.25, 3.5, -1.25,
       1.0,  3.0, -1.0,

      -0.25, 3.5, -2.25,
       0.25, 3.5, -1.75,
       1.0,  3.0, -2.0,

      -0.75, 3.5, -2.25,
      -0.25, 3.5, -2.25,
       0.0,  3.0, -3.0,

      -1.25, 3.5, -1.75,
      -0.75, 3.5, -2.25,
      -1.0,  3.0, -3.0,

      -1.25, 3.5, -1.25,
      -1.25, 3.5, -1.75,
      -2.0,  3.0, -2.0,

      -0.75, 3.5, -0.75,
      -1.25, 3.5, -1.25,
      -2.0,  3.0, -1.0,
    ]);

    // itemSize = 3 because there are 3 values (components) per vertex
    bottleGeometry.setAttribute( 'position', new THREE.BufferAttribute( bottleVertices, 3 ) );
    var bottleMaterial = new THREE.MeshBasicMaterial( { color: 0xa0a0a0 } );
    var bottleMesh = new THREE.Mesh( bottleGeometry, bottleMaterial );
    milk.add(bottleMesh);

    var capGeometry = new THREE.BufferGeometry();
    var capVertices = new Float32Array([
      // Cap
      -1.0,  3.5,  0.0,
       0.0,  3.5,  0.0,
       0.0,  3.75, 0.0,

       0.0,  3.5,  0.0,
       1.0,  3.5, -1.0,
       1.0,  3.75,-1.0,

       1.0,  3.5, -1.0,
       1.0,  3.5, -2.0,
       1.0,  3.75,-2.0,

       1.0,  3.5, -2.0,
       0.0,  3.5, -3.0,
       0.0,  3.75,-3.0,

       0.0,  3.5, -3.0,
      -1.0,  3.5, -3.0,
      -1.0,  3.75,-3.0,

      -1.0,  3.5, -3.0,
      -2.0,  3.5, -2.0,
      -2.0,  3.75,-2.0,

      -2.0,  3.5, -2.0,
      -2.0,  3.5, -1.0,
      -2.0,  3.75,-1.0,

      -2.0,  3.5, -1.0,
      -1.0,  3.5,  0.0,
      -1.0,  3.75, 0.0,

      -1.0,  3.5,  0.0,
       0.0,  3.75, 0.0,
      -1.0,  3.75, 0.0,

       0.0,  3.5,  0.0,
       1.0,  3.75,-1.0,
       0.0,  3.75, 0.0,

       1.0,  3.5, -1.0,
       1.0,  3.75,-2.0,
       1.0,  3.75,-1.0,

       1.0,  3.5, -2.0,
       0.0,  3.75,-3.0,
       1.0,  3.75,-2.0,

       0.0,  3.5, -3.0,
      -1.0,  3.75,-3.0,
       0.0,  3.75,-3.0,

      -1.0,  3.5, -3.0,
      -2.0,  3.75,-2.0,
      -1.0,  3.75,-3.0,

      -2.0,  3.5, -2.0,
      -2.0,  3.75,-1.0,
      -2.0,  3.75,-2.0,

      -2.0,  3.5, -1.0,
      -1.0,  3.75, 0.0,
      -2.0,  3.75,-1.0,

      // Bottom base
       0.0,  3.5,  0.0,
       1.0,  3.5, -2.0,
       1.0,  3.5, -1.0,

       0.0,  3.5,  0.0,
       0.0,  3.5, -3.0,
       1.0,  3.5, -2.0,

       0.0,  3.5,  0.0,
      -1.0,  3.5, -3.0,
       0.0,  3.5, -3.0,

       0.0,  3.5,  0.0,
      -2.0,  3.5, -2.0,
      -1.0,  3.5, -3.0,

       0.0,  3.5,  0.0,
      -2.0,  3.5, -1.0,
      -2.0,  3.5, -2.0,

       0.0,  3.5,  0.0,
      -1.0,  3.5,  0.0,
      -2.0,  3.5, -1.0,

      // Top base
       0.0,  3.75, 0.0,
       1.0,  3.75,-1.0,
       1.0,  3.75,-2.0,

       0.0,  3.75, 0.0,
       1.0,  3.75,-2.0,
       0.0,  3.75,-3.0,

       0.0,  3.75, 0.0,
       0.0,  3.75,-3.0,
      -1.0,  3.75,-3.0,

       0.0,  3.75, 0.0,
      -1.0,  3.75,-3.0,
      -2.0,  3.75,-2.0,

       0.0,  3.75, 0.0,
      -2.0,  3.75,-2.0,
      -2.0,  3.75,-1.0,

       0.0,  3.75, 0.0,
      -2.0,  3.75,-1.0,
      -1.0,  3.75, 0.0,
    ]);

    // itemSize = 3 because there are 3 values (components) per vertex
    capGeometry.setAttribute( 'position', new THREE.BufferAttribute( capVertices, 3 ) );
    var capMaterial = new THREE.MeshBasicMaterial( { color: capColor } );
    var capMesh = new THREE.Mesh( capGeometry, capMaterial );
    capMesh.scale.x = 0.8;
    capMesh.scale.z = 0.8;
    capMesh.position.x = -0.085;
    capMesh.position.z = -0.3;
    milk.add(capMesh);

    milk.scale.x = 0.35;
    milk.scale.y = 0.65;
    milk.scale.z = 0.35;
    milk.position.z = -4;
    this.add(milk);
  }
}
